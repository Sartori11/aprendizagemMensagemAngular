<!-- <section>
  <div class="container pt-3" *ngIf="chat == false">
    <p-tabView>
      <p-tabPanel header="Ultimas Mensagens">
        <div class="card" *ngIf="contatos">
          <div class="card-body">
            <ul class="list-unstyled mb-0">
              <li *ngFor="let item of contatos">
                <app-card-contato
                  [nome]="item.nomeCompleto"
                  [msg]="''"
                  [img]="item.foto"
                  [unreaded]="0"
                  (click)="toggleChat(item)"
                ></app-card-contato>
              </li>
            </ul>
          </div>
        </div>
      </p-tabPanel>
      <p-tabPanel header="Favoritos">
        <div class="card" *ngIf="contatos">
          <div class="card-body">
            <div class="list-unstyled mb-0">
              <div *ngFor="let item of contatos">
                <app-card-contato
                  [nome]="item.nomeCompleto"
                  [msg]="''"
                  [img]="item.foto"
                  [unreaded]="0"
                  (click)="toggleChat(item)"
                ></app-card-contato>
              </div>
            </div>
          </div>
        </div>
      </p-tabPanel>
    </p-tabView>
  </div>

  <div *ngIf="chat == true" class="container py-5">
    <div id="arrow">
      <i class="pi pi-arrow-left"  (click)="toggleChat()"></i>
    </div>
    <div class="row chatMensagens m-1" >
      <div class="card" >
        <div class="card-body" >
          <ul class="list-unstyled">
            <li *ngFor="let item of mensagens" >
              <app-card-mensagem 
              [mensagem]="item"
              ></app-card-mensagem>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <form id="fixedDiv" name="mensagemTexto" action="">
      <div class="bg-white mb-3 col-12">
        <div class="form-outline">
          <textarea
          [(ngModel)]="mensagemTexto"
          placeholder="Digite sua mensagem"
            class="form-control"
            id="textAreaExample2"
            rows="4"
          ></textarea>
        </div>
      </div>
      <button type="button" class="btn btn-info btn-rounded float-end" (click)="EnviarMensagem()">
        Enviar
      </button>
    </form>
  </div>

</section> -->

<script>
	window.addEventListener("scroll", function () {
		var fixedDiv = document.getElementById("fixedDiv");
		var rect = fixedDiv.getBoundingClientRect();
		var isVisible = rect.top >= 0 && rect.bottom <= window.innerHeight;

		if (isVisible) {
			fixedDiv.style.visibility = "visible";
		} else {
			fixedDiv.style.visibility = "hidden";
		}
	});
</script>

<main class="content">
	<div class="row g-0">
		<div class="col-12 col-lg-5 col-xl-3 border-right">
			<div class="px-4 d-none d-md-block">
				<div class="d-flex align-items-center">
					<div class="flex-grow-1">
						<div style="justify-content: space-between;" class="form-control d-flex">
							<div class="d-flex">
								<mat-icon style="opacity: 0.7;">person</mat-icon>
								<input style="border: none; outline: none;" type="text" placeholder="Pesquisar">
							</div>
							<mat-icon style="opacity: 0.7;">search</mat-icon>
						</div>
					</div>
				</div>
			</div>

			<hr />

			<li *ngFor="let item of contatos">
				<app-card-contato [nome]="item.nomeCompleto" [msg]="''" [img]="item.foto" [unreaded]="0"
					(click)="toggleChat(item)"></app-card-contato>
			</li>

			<!--<a href="#" class="list-group-item list-group-item-action littleMessage">
					<div class="d-flex align-items-start">
						<img src="https://bootdey.com/img/Content/avatar/avatar2.png" class="rounded-circle mr-1"
							alt="William Harris" width="40" height="40">
						<div class="flex-grow-1 ml-3 leftName">
							William Harris
							<div class="small"><span class="fas fa-circle chat-online"></span> Online</div>
						</div>
					</div>
					<div class="badge bg-success float-right">2</div>
				</a> -->
		</div>

		<div class="col-12 col-lg-7 col-xl-9">
			<div style="background-color: #092C4C; color: white;" class="py-2 px-4 border-bottom d-none d-lg-block">
				<div class="d-flex align-items-center py-1">
					<div class="position-relative">
						<img src="https://bootdey.com/img/Content/avatar/avatar3.png" class="rounded-circle mr-1"
							alt="Sharon Lessman" width="40" height="40">
					</div>
					<div style="padding-left: 10px;" class="flex-grow-1 pl-3">
						<strong>Sharon Lessman</strong>
					</div>

				</div>
			</div>

			<div class="chat-messages p-4">
				<div class="chat-message-right mb-4">
				  <ul class="list-unstyled">
					<li *ngFor="let item of mensagens">
					  <app-card-mensagem [mensagem]="item"></app-card-mensagem>
					</li>
				  </ul>
				</div>
			  </div>
			  
			  <div style="background-color:#536b82;" class="flex-grow-0 py-3 px-4 border-top">
				<div class="input-group">
				  <input type="text" class="form-control rounded" placeholder="Digite sua mensagem" [(ngModel)]="novaMensagemTexto">
				  <button style="background-color: #092C4C; margin-left: 5px; border: none;" class="btn btn-primary rounded" (click)="enviarMensagem()">
					<mat-icon>send</mat-icon>
				  </button>
				</div>
			  </div>

		</div>
	</div>

</main>